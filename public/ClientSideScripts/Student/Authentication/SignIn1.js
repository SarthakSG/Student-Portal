var loading=$("#loading_overlay"),err=$("#err");err.hide();firebase.auth().onAuthStateChanged(function(b){null!=b&&(console.log(b.uid),b.emailVerified&&(window.location.href="/student/dashboard"))});var password_input=document.getElementById("password"),show_password=document.getElementById("show_password"),password_shown=!1;
show_password.addEventListener("click",function(){password_shown?(password_input.setAttribute("type","password"),password_shown=!1,show_password.style.color="#000000"):(password_input.setAttribute("type","text"),password_shown=!0,show_password.style.color="#989898")});var email_input=document.getElementById("email");password_input=document.getElementById("password");show_password=document.getElementById("show_password");password_shown=!1;
$("#sign_in").click(function(){console.log("In Sign in");err.html("");loading.show();var b=email_input.value,c=password_input.value;firebase.auth().signInWithEmailAndPassword(b,c).catch(function(a){a&&(err.show(),loading.hide(),"auth/invalid-email"==a.code?err.append("Email-id is invalid </br>"):"auth/wrong-password"==a.code?err.append("Password is incorrect </br>"):"auth/user-not-found"==a.code?err.append("No user found with given credentials </br>"):"auth/user-disabled"==a.code&&err.append("Your account is disabled! </br>"),
console.log(a.code),console.log(a.message))}).then(function(a){null!=a&&(console.log(a.uid),a.emailVerified?window.location.href="/student/dashboard":(err.show(),err.append("Please verify your Email-id </br>"),loading.hide()))});return!1});
$("#forgot_password").click(function(){err.html("");var b=firebase.auth(),c=$("#email").val();document.getElementById("error");$("#error");console.log(c);b.sendPasswordResetEmail(c).then(function(){err.show();err.append("Password reset email sent </br>");console.log("Sent")}).catch(function(a){a.show();a.append(a.message.toString()+"</br>");console.log(a)})});